unit BubbleSort;

interface
  uses
    Types, Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
    Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls,
    Vcl.Imaging.pngimage;


  procedure BubbleSortProcedure(DiagramBox: TDiagramBox; Speed: Integer);


implementation
uses
  DrawDiagram, DrawUI, Single;

procedure Swoop(DiagramBox: TDiagramBox; Element1, Element2, Speed: Integer);
var
  temp: Integer;
begin
  temp:= DiagramBox.Content[Element2];
  DiagramBox.Content[Element2]:= DiagramBox.Content[Element1];
  DiagramBox.Content[Element1]:= temp;
  TThread.Synchronize(nil,
      procedure
      begin
        DrawDiagramProcedure(DiagramBox);
        FillListBox(SingleNumberList);
      end
      );
      sleep(Speed);
end;

procedure BubbleSortProcedure(DiagramBox: TDiagramBox; Speed: Integer);
var
  I, Counter: Integer;
  unsorted: Boolean ;
begin
  unsorted:= true;
  while unsorted do
  begin
    Counter:= 0;
    for I := 0 to length(DiagramBox.Content) do
    begin
      if DiagramBox.Content[I] > DiagramBox.Content[I+1] then
        Swoop(DiagramBox, I, I+1, Speed)
      else
        Counter:= Counter+1;
    end;
    if Counter = length(DiagramBox.Content)+1 then unsorted:= false;

  end;
end;

end.
